Version 4
SHEET 1 2144 1380
WIRE -384 -512 -896 -512
WIRE -384 -416 -384 -512
WIRE -384 -368 -384 -416
WIRE -384 -368 -480 -368
WIRE -272 -368 -384 -368
WIRE 224 -320 176 -320
WIRE 320 -304 288 -304
WIRE 384 -304 320 -304
WIRE -480 -288 -480 -368
WIRE -272 -288 -272 -368
WIRE 224 -288 176 -288
WIRE 384 -288 384 -304
WIRE 432 -288 384 -288
WIRE 624 -272 496 -272
WIRE 432 -256 384 -256
WIRE 624 -256 624 -272
WIRE -480 -176 -480 -208
WIRE 176 -160 176 -288
WIRE 192 -160 176 -160
WIRE 320 -160 320 -304
WIRE 320 -160 272 -160
WIRE 384 -160 384 -256
WIRE 416 -160 384 -160
WIRE 624 -160 624 -176
WIRE 624 -160 496 -160
WIRE 1280 -160 1280 -224
WIRE 1360 -160 1360 -224
WIRE 1440 -160 1440 -224
WIRE 176 -144 176 -160
WIRE 384 -144 384 -160
WIRE -336 -96 -432 -96
WIRE -480 -64 -480 -80
WIRE -480 -64 -896 -64
WIRE -272 -64 -272 -208
WIRE -272 -64 -480 -64
WIRE 96 -64 -272 -64
WIRE 176 -64 96 -64
WIRE 384 -64 176 -64
WIRE 1280 -64 1280 -96
WIRE 1360 -64 1360 -96
WIRE 1360 -64 1280 -64
WIRE 1440 -64 1440 -96
WIRE 1440 -64 1360 -64
WIRE 96 -32 96 -64
WIRE 1360 -32 1360 -64
WIRE 1984 128 1904 128
WIRE 1024 144 976 144
WIRE 1232 144 1136 144
WIRE 1600 144 1504 144
WIRE 1808 144 1728 144
WIRE 1968 160 1904 160
WIRE 1984 160 1968 160
WIRE 1952 192 1904 192
WIRE 1968 192 1968 160
WIRE 1984 192 1968 192
WIRE -336 208 -336 -96
WIRE -336 208 -480 208
WIRE -112 208 -336 208
WIRE 784 208 672 208
WIRE 976 208 976 144
WIRE 976 208 912 208
WIRE -1056 224 -1056 192
WIRE 448 224 336 224
WIRE 1952 224 1952 192
WIRE 1968 224 1952 224
WIRE 1984 224 1968 224
WIRE -112 240 -112 208
WIRE 784 240 672 240
WIRE 976 240 912 240
WIRE 1968 256 1968 224
WIRE 1984 256 1968 256
WIRE 976 272 976 240
WIRE 1024 272 976 272
WIRE 1232 272 1136 272
WIRE 1600 272 1504 272
WIRE 1760 272 1728 272
WIRE -704 304 -704 272
WIRE -1056 320 -1056 304
WIRE -1056 320 -1088 320
WIRE -736 320 -768 320
WIRE -1056 336 -1056 320
WIRE -576 336 -672 336
WIRE -96 336 -96 304
WIRE -64 336 -96 336
WIRE 1760 336 1760 272
WIRE -736 352 -768 352
WIRE -480 368 -480 208
WIRE -464 368 -480 368
WIRE 960 368 928 368
WIRE 1088 368 1056 368
WIRE -704 384 -704 368
WIRE -688 384 -688 368
WIRE -688 384 -704 384
WIRE -368 384 -400 384
WIRE -128 384 -128 304
WIRE -128 384 -176 384
WIRE -112 384 -128 384
WIRE 1088 384 1088 368
WIRE -704 400 -704 384
WIRE -464 400 -496 400
WIRE 784 400 672 400
WIRE 928 400 928 368
WIRE 928 400 880 400
WIRE -576 416 -576 336
WIRE -560 416 -576 416
WIRE -496 416 -496 400
WIRE -496 416 -560 416
WIRE -368 416 -416 416
WIRE -1056 448 -1056 416
WIRE -1056 448 -1088 448
WIRE -560 448 -560 416
WIRE -480 448 -560 448
WIRE -1056 464 -1056 448
WIRE -416 464 -416 416
WIRE 448 464 336 464
WIRE 784 464 672 464
WIRE 928 464 864 464
WIRE -480 480 -592 480
WIRE 928 480 928 464
WIRE 976 480 928 480
WIRE 1088 480 1088 464
WIRE 1088 480 1056 480
WIRE -592 560 -592 480
WIRE -592 560 -624 560
WIRE -560 560 -592 560
WIRE -1056 576 -1056 544
WIRE -848 576 -848 544
WIRE -272 576 -272 528
WIRE -272 576 -496 576
WIRE -880 592 -912 592
WIRE -560 592 -592 592
WIRE -624 608 -624 560
WIRE -624 608 -816 608
WIRE -880 624 -912 624
WIRE -592 640 -592 592
WIRE -128 640 -128 384
WIRE -128 640 -592 640
WIRE -848 656 -848 640
WIRE -832 656 -832 640
WIRE -832 656 -848 656
WIRE -848 672 -848 656
FLAG 96 -32 0
FLAG 240 -272 V+
IOPIN 240 -272 BiDir
FLAG 448 -240 V+
IOPIN 448 -240 BiDir
FLAG 624 -160 Vout
IOPIN 624 -160 BiDir
FLAG 1984 128 V+
IOPIN 1984 128 BiDir
FLAG 272 -336 V+
IOPIN 272 -336 BiDir
FLAG 480 -304 V+
IOPIN 480 -304 BiDir
FLAG -384 -416 Vt
IOPIN -384 -416 BiDir
FLAG 96 -320 Vt
IOPIN 96 -320 BiDir
FLAG 624 -272 Vref
IOPIN 624 -272 BiDir
FLAG -112 384 Vset
IOPIN -112 384 BiDir
FLAG -576 336 Vsuperior
IOPIN -576 336 BiDir
FLAG -624 560 Vinferior
IOPIN -624 560 BiDir
FLAG -272 576 Reset
IOPIN -272 576 BiDir
FLAG -704 272 Vauto
IOPIN -704 272 BiDir
FLAG -272 224 0
FLAG -768 352 Vref
IOPIN -768 352 BiDir
FLAG -912 592 Vref
IOPIN -912 592 BiDir
FLAG 448 -304 0
FLAG 240 -336 0
FLAG -64 336 Mon
IOPIN -64 336 BiDir
FLAG 1984 160 mOn
IOPIN 1984 160 BiDir
FLAG -848 544 Vauto
IOPIN -848 544 BiDir
FLAG -1056 192 Vauto
IOPIN -1056 192 BiDir
FLAG -1056 576 0
FLAG -1088 320 Vmax
IOPIN -1088 320 BiDir
FLAG -1088 448 Vmin
IOPIN -1088 448 BiDir
FLAG -768 320 Vmax
IOPIN -768 320 BiDir
FLAG -912 624 Vmin
IOPIN -912 624 BiDir
FLAG 1984 224 Vauto
IOPIN 1984 224 BiDir
FLAG 1984 192 V+
IOPIN 1984 192 BiDir
FLAG 1984 256 V+
IOPIN 1984 256 BiDir
FLAG 1360 -224 Mon
IOPIN 1360 -224 BiDir
FLAG 1440 -224 Vauto
IOPIN 1440 -224 BiDir
FLAG 1280 -224 V+
IOPIN 1280 -224 BiDir
FLAG 1360 -32 0
FLAG -896 -512 Input+
IOPIN -896 -512 BiDir
FLAG -896 -64 Input-
IOPIN -896 -64 BiDir
FLAG 560 320 TP4056
FLAG 336 224 USB+
IOPIN 336 224 BiDir
FLAG 336 464 USB-
IOPIN 336 464 BiDir
FLAG 784 400 Bat+
IOPIN 784 400 BiDir
FLAG 784 464 Bat-
IOPIN 784 464 BiDir
FLAG 784 208 Output+
IOPIN 784 208 BiDir
FLAG 784 240 Output-
IOPIN 784 240 BiDir
FLAG 1056 368 Bat+
IOPIN 1056 368 BiDir
FLAG 1056 480 Bat-
IOPIN 1056 480 BiDir
FLAG 1360 208 Lm2956
FLAG 1136 144 Input+
IOPIN 1136 144 BiDir
FLAG 1136 272 Input-
IOPIN 1136 272 BiDir
FLAG 1600 144 Output+
IOPIN 1600 144 BiDir
FLAG 1600 272 Output-
IOPIN 1600 272 BiDir
FLAG 1760 336 0
FLAG 1344 -528 Circuito_Alimentacion
FLAG 320 -560 Circuito_Comparacion
FLAG -560 720 Circuito_Automata
FLAG -1024 -288 Entradas_Corriente
FLAG -704 400 0
FLAG -848 672 0
SYMBOL OpAmps\\MAX4239 256 -320 M180
WINDOW 0 -18 132 Left 2
WINDOW 3 -54 105 Left 2
SYMATTR InstName U1
SYMBOL OpAmps\\MAX4239 464 -288 M180
WINDOW 0 -34 137 Left 2
WINDOW 3 -63 107 Left 2
SYMATTR InstName U2
SYMBOL res 512 -176 R90
WINDOW 0 78 53 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 9k
SYMBOL res 400 -48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 288 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 9k
SYMBOL res 192 -48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 640 -160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 50k
SYMBOL voltage 1088 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL res 192 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 270
SYMBOL res -496 -304 R0
SYMATTR InstName mA1
SYMATTR Value 10m
SYMBOL res -288 -304 R0
SYMATTR InstName uA1
SYMATTR Value 10
SYMBOL ZZZ\\LOGIC\\74HC\\74hc74 -272 304 R0
SYMATTR InstName U3
SYMATTR SpiceLine VCC=3  SPEED=1.0  TRIPDT=1e-9
SYMBOL ZZZ\\OpAmp\\TLV3501 -704 272 R0
SYMATTR InstName U4
SYMBOL ZZZ\\OpAmp\\TLV3501 -848 544 R0
SYMATTR InstName U5
SYMBOL nmos -432 -176 M0
SYMATTR InstName M2
SYMATTR Value BSC009N04LS
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\NAND_2 -528 576 R0
SYMATTR InstName U6
SYMBOL voltage -272 320 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 3
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\OR_2 -432 384 R0
SYMATTR InstName U7
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\OR_2 -448 464 R0
SYMATTR InstName U8
SYMBOL ZZZ\\switch\\SP4T 1856 144 R0
SYMATTR InstName U9
SYMBOL ZZZ\\LOGIC\\DigitalLogic\\OR_2 -112 272 R270
SYMATTR InstName U10
SYMBOL res -1072 208 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res -1072 320 R0
SYMATTR InstName R8
SYMATTR Value 150k
SYMBOL res -1072 448 R0
SYMATTR InstName R9
SYMATTR Value 220
SYMBOL LED 1264 -160 R0
SYMATTR InstName DuA
SYMBOL LED 1344 -160 R0
SYMATTR InstName DmA
SYMBOL LED 1424 -160 R0
SYMATTR InstName Dauto
TEXT 328 728 Left 2 !.tran 22m
TEXT 352 672 Left 2 !.model BSC009N04LS NMOS (Vto=2.0 Kp=800 Rd=0.0009 Rs=0.00005 Rg=1 Vds=40 Ron=0.0009)
LINE Normal 160 32 160 816 2
LINE Normal 784 -608 784 16 2
LINE Normal 784 32 160 32 2
RECTANGLE Normal 736 528 384 160 2
RECTANGLE Normal 1552 336 1184 80 2
